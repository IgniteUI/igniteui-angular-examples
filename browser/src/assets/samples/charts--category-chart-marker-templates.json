{"sampleFiles":[{"hasRelativeAssetsUrls":false,"path":"src/app/marker-templates/category-chart-marker-templates.component.ts","content":"import { Component, OnInit } from '@angular/core';\r\nimport { DataTemplateMeasureInfo, DataTemplateRenderInfo } from 'igniteui-angular-core';\r\n\r\n@Component({\r\n    selector: 'app-category-chart-marker-templates',\r\n    templateUrl: './category-chart-marker-templates.component.html',\r\n    styleUrls: ['./category-chart-marker-templates.component.scss']\r\n})\r\nexport class CategoryChartMarkerTemplatesComponent implements OnInit {\r\n\r\n    public data: any[];\r\n\r\n    constructor() { }\r\n\r\n    public onSeriesAdded(e: any) {\r\n        e.args.series.markerTemplate = this.getMarker();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.data = [\r\n            { Location: \"World\", Solar: 23, Coal: -1, Hydropower: 1, Wind: 12, Nuclear: 3 },\r\n            { Location: \"China\", Solar: 26, Coal: 2, Hydropower: 5, Wind: 10, Nuclear: 18 },\r\n            { Location: \"U.S.\", Solar: 15, Coal: -15, Hydropower: -7, Wind: 10, Nuclear: 1 },\r\n            { Location: \"EU\", Solar: 11, Coal: -12, Hydropower: -2, Wind: 14, Nuclear: -1 }\r\n        ];\r\n    }\r\n\r\n    public getMarker(): any {\r\n        let style = { outline: \"#8B5BB1\", fill: \"white\", text: \"black\" };\r\n        const size = 12;\r\n\r\n        return {\r\n            measure: function (measureInfo: DataTemplateMeasureInfo) {\r\n                const context = measureInfo.context;\r\n                const height = context.measureText(\"M\").width;\r\n                const width = context.measureText(\"0.00\").width;\r\n                measureInfo.width = width;\r\n                measureInfo.height = height + 12;\r\n            },\r\n            render: function (renderInfo: DataTemplateRenderInfo) {\r\n                let ctx = renderInfo.context;\r\n                let x = renderInfo.xPosition;\r\n                let y = renderInfo.yPosition;\r\n\r\n                if (renderInfo.isHitTestRender) {\r\n                    ctx.fillStyle = renderInfo.data.actualItemBrush.fill;\r\n\r\n                    let width = renderInfo.availableWidth;\r\n                    let height = renderInfo.availableHeight;\r\n\r\n                    ctx.fillRect(x - (width / 2), y - (height), renderInfo.availableWidth, renderInfo.availableHeight);\r\n                    return;\r\n                }\r\n\r\n\r\n                const dataItem = renderInfo.data.item;\r\n                if (dataItem === null) return;\r\n\r\n                const series = renderInfo.data.series;\r\n                const dataPath = series.valueColumn.propertyName;\r\n\r\n                let dataValue = 0;\r\n                switch (dataPath) {\r\n                    case \"Solar\": dataValue = dataItem.Solar; break;\r\n                    case \"Coal\": dataValue = dataItem.Coal; break;\r\n                    case \"Hydropower\": dataValue = dataItem.Hydropower; break;\r\n                    case \"Wind\": dataValue = dataItem.Wind; break;\r\n                    case \"Nuclear\": dataValue = dataItem.Nuclear; break;\r\n                }\r\n                ctx.font = '8pt Verdana';\r\n                ctx.textBaseline = 'top';\r\n                ctx.fillStyle = \"black\";\r\n\r\n                let xOffset = 20;\r\n                let yOffset = 10;\r\n                if (dataValue < 0) {\r\n                    ctx.fillText(dataValue + \"%\", x - (xOffset / 2), y + (yOffset));\r\n                }\r\n                else {\r\n                    ctx.fillText(dataValue + \"%\", x - (xOffset / 2), y - (yOffset * 2));\r\n                }\r\n\r\n                ctx.strokeStyle = \"black\";\r\n                ctx.fillStyle = \"white\";\r\n                ctx.beginPath();\r\n                ctx.arc(x, y, 6, 0, 2 * Math.PI);\r\n                ctx.stroke();\r\n                ctx.fill();\r\n            }\r\n        }\r\n    }\r\n}\r\n","isMain":true,"fileExtension":"ts","fileHeader":"ts"},{"hasRelativeAssetsUrls":false,"path":"src/app/marker-templates/category-chart-marker-templates.component.html","content":"<div class=\"container sample\">\r\n    <div class=\"options vertical\">\r\n        <span id=\"legendTitle\">Percentage Change in Energy Generation in 2019</span>\r\n        <div class=\"legend\">\r\n            <igx-legend #legend orientation=\"horizontal\"></igx-legend>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n             <igx-category-chart height=\"100%\" width=\"100%\"\r\n                           [legend]=\"legend\"\r\n                           [dataSource]=\"data\"\r\n                           chartType=\"Column\"\r\n                           thickness=\"2\"\r\n                           isHorizontalZoomEnabled=\"false\"\r\n                           isVerticalZoomEnabled=\"false\"\r\n                           isSeriesHighlightingEnabled=\"true\"\r\n                           (seriesAdded)=\"onSeriesAdded($event)\"\r\n                           xAxisMajorStroke=\"LightGray\"\r\n                           xAxisMajorStrokeThickness=\"1\"\r\n                           yAxisInterval=\"10\"\r\n                           yAxisMinimumValue=\"-20\"\r\n                           yAxisMaximumValue=\"30\">\r\n            </igx-category-chart>\r\n    </div>\r\n</div>\r\n","isMain":true,"fileExtension":"html","fileHeader":"html"},{"hasRelativeAssetsUrls":false,"path":"src/app/marker-templates/category-chart-marker-templates.component.scss","content":"/* styles are loaded the Shared CSS file located at:\r\nhttps://static.infragistics.com/xplatform/css/samples/\r\n*/\r\n","isMain":true,"fileExtension":"scss","fileHeader":"scss"},{"hasRelativeAssetsUrls":false,"path":"src/app/app.module.ts","content":"import { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { AppComponent } from \"./app.component\";\r\nimport { CategoryChartMarkerTemplatesComponent } from \"./marker-templates/category-chart-marker-templates.component\";\r\nimport { \r\n\tIgxCategoryChartModule,\r\n\tIgxLegendModule\r\n } from \"igniteui-angular-charts\";\n\n\n\n@NgModule({\n  bootstrap: [AppComponent],\n  declarations: [\r\n\tAppComponent,\r\n\tCategoryChartMarkerTemplatesComponent\r\n],\n  imports: [\r\n\tBrowserModule,\r\n\tBrowserAnimationsModule,\r\n\tFormsModule,\r\n\tIgxCategoryChartModule,\r\n\tIgxLegendModule\r\n],\n  providers: [],\n  entryComponents: [],\n  schemas: []\n})\nexport class AppModule {}\n","isMain":true,"fileExtension":"ts","fileHeader":"modules"},{"hasRelativeAssetsUrls":false,"path":"src/app/app.component.html","content":"<app-category-chart-marker-templates></app-category-chart-marker-templates>"}],"sampleDependencies":"{\"@angular/animations\":\"10.0.14\",\"@angular/common\":\"10.0.14\",\"@angular/compiler\":\"10.0.14\",\"@angular/core\":\"^10.0.14\",\"@angular/forms\":\"10.0.14\",\"@angular/platform-browser\":\"10.0.14\",\"@angular/platform-browser-dynamic\":\"10.0.14\",\"@types/hammerjs\":\"^2.0.35\",\"classlist.js\":\"^1.1.20150312\",\"core-js\":\"^2.6.2\",\"hammerjs\":\"^2.0.8\",\"igniteui-angular\":\"11.1.10\",\"igniteui-angular-charts\":\"11.2.0-beta.0\",\"igniteui-angular-core\":\"11.2.0-beta.0\",\"intl\":\"^1.2.5\",\"jszip\":\"^3.1.5\",\"rxjs\":\"^6.5.4\",\"tslib\":\"1.13.0\",\"web-animations-js\":\"^2.3.2\",\"zone.js\":\"~0.10.2\"}"}